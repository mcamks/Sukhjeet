@using BlueSignal.Controllers;
@model BlueSignal.Models.SetPassowrdModel

<div class="alert alert-info text-center">Direct Access to Your Dashboard</div>
<p>Copy the URL Below and save it in your browser to use for direct log-in access to your BluSignals Dashboard Page</p>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <p>
        @{
            if (HttpContextSessionWrapperExtension.SessionUser != null && HttpContextSessionWrapperExtension.SessionUser.IsAlreadyRegisteredWithBSPortal && Model.IsSuccess != 2)
            {
                <div class="form-group">
                    @Html.LabelFor(model => model.Url)
                    @Html.TextBoxFor(model => model.Url, new { @class = "form-control", maxlength = 150 })
                    @Html.ValidationMessageFor(model => model.Url, "", new { @class = "text-danger" })
                </div>
                @*<div class="alert alert-success alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <strong>User is already registered with us, Thanks!</strong>
                    </div>*@
                <div class="form-group row">
                    <div class="col-sm-12">
                        <input id="okay" type="button" style="margin-top:30px;" data-dismiss="modal" class="btn btn-primary" value="Ok" />
                    </div>
                </div>
            }
            else
            {
                if (Model.IsSuccess == 1)
                {

                    <div class="alert alert-danger alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <strong>Error!</strong> Please fill the required fields.
                    </div>
                }

                if (Model.IsSuccess == 2)
                {

                    <div class="alert alert-success alert-dismissible" role="alert">
                        @*<button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>*@
                        <strong>Success!</strong> You have registered successfully, Thanks!
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-12">
                            <input id="okay" type="button" style="margin-top:30px;" data-dismiss="modal" class="btn btn-primary" value="Ok" />
                        </div>
                    </div>
                }
                else
                {
                    <div class="form-group">
                        @Html.LabelFor(model => model.Url)
                        @Html.TextBoxFor(model => model.Url, new { @class = "form-control", maxlength = 150 })
                        @Html.ValidationMessageFor(model => model.Url, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        @Html.LabelFor(model => model.cpwd)
                        @Html.PasswordFor(model => model.cpwd, new { @class = "form-control" })
                        @Html.ValidationMessageFor(model => model.cpwd, "", new { @class = "text-danger" })
                    </div>
                    <div class="form-group">
                        <input id="LoginForm" type="button" onclick="LoginWithNew(this);" class="btn btn-primary" value="Continue" />
                    </div>





                }
            }

            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        }




    </p>
            }


@*<script>
        $(document).ready(function () {
            $(".sidemenu").hide();
            $(".dashboard_style").hide();
        });
    </script>*@