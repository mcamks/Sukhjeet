@using BlueSignal.Controllers;
@model BlueSignal.Models.SetPassowrdModel


<div class="alert alert-danger text-center">Dashboard failed to launch.</div>
<p>Lorem imsum is dummy text. Lorem imsum is dummy text. Lorem imsum is dummy text. Lorem imsum is dummy text.</p>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    <p>
        @{
            if (HttpContextSessionWrapperExtension.SessionUser != null && HttpContextSessionWrapperExtension.SessionUser.IsAlreadyRegisteredWithBSPortal && Model.IsSuccess != 2)
            {
                <div class="alert alert-success alert-dismissible" role="alert">
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <strong>User is already registered with us, Thanks!</strong>
                </div>
                <div class="form-group row">
                    <div class="col-sm-12">
                        <input id="okay" type="button" style="margin-top:30px;" data-dismiss="modal" class="btn btn-primary" value="Ok" />
                    </div>
                </div>
            }

            else


            {



                if (Model.IsSuccess == 1)
                {

                    <div class="alert alert-danger alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <strong>Error!</strong> Please fill the required fields.
                    </div>


                }

                if (Model.IsSuccess == 2)
                {

                    <div class="alert alert-success alert-dismissible" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <strong>Success!</strong> You are registered successfully, Thanks!
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-12">
                            <input id="okay" type="button" style="margin-top:30px;" data-dismiss="modal" class="btn btn-primary" value="Ok" />
                        </div>
                    </div>
                }

                else
                {

                    <div class="form-group row">
                        <div class="col-sm-4">
                            @Html.LabelFor(model => model.pwd, htmlAttributes: new { @class = "" })
                            @Html.PasswordFor(model => model.pwd, new { htmlAttributes = new { @class = "form-control", maxlength = 150 } })
                            @Html.ValidationMessageFor(model => model.pwd, "", new { @class = "text-danger" })
                        </div>
                        <div class="col-sm-4">
                            @Html.LabelFor(model => model.cpwd, htmlAttributes: new { @class = "" })
                            @Html.PasswordFor(model => model.cpwd, new { htmlAttributes = new { @class = "form-control", maxlength = 150 } })
                            @Html.ValidationMessageFor(model => model.cpwd, "", new { @class = "text-danger" })
                        </div>
                    </div>
                    <div class="form-group row">
                        <div class="col-sm-12">
                            <input id="LoginForm" type="button" style="margin-top:30px;" onclick="LoginWithNew(this);" class="btn btn-primary" value="Login" />

                        </div>
                    </div>


                }
            }
            <hr />
            @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        }




    </p>
            }
